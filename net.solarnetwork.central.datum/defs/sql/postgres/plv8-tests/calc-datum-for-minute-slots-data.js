var testData = [
{ 
	description : 'Shift in Wh results in negative Wh result.',
	expected : [ {"i":{"watts":3.362},"a":{"wattHours":14.992},"t":["consumption"]} ], 
	data : [
{"ts":"2013-11-07 19:59:30.209+13","source_id":"Main","tsms":1383807570209,"percent":0,"tdiffms":60000,"jdata":{"i":{"watts":0},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:00:30.215+13","source_id":"Main","tsms":1383807630215,"percent":0.503533,"tdiffms":60006,"jdata":{"i":{"watts":0},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:01:30.19+13","source_id":"Main","tsms":1383807690190,"percent":1,"tdiffms":59975,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:02:30.421+13","source_id":"Main","tsms":1383807750421,"percent":1,"tdiffms":60231,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:03:30.207+13","source_id":"Main","tsms":1383807810207,"percent":1,"tdiffms":59786,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:04:30.211+13","source_id":"Main","tsms":1383807870211,"percent":1,"tdiffms":60004,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:05:30.239+13","source_id":"Main","tsms":1383807930239,"percent":1,"tdiffms":60028,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:06:30.207+13","source_id":"Main","tsms":1383807990207,"percent":1,"tdiffms":59968,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:07:30.208+13","source_id":"Main","tsms":1383808050208,"percent":1,"tdiffms":60001,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:08:30.267+13","source_id":"Main","tsms":1383808110267,"percent":1,"tdiffms":60059,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:09:30.222+13","source_id":"Main","tsms":1383808170222,"percent":1,"tdiffms":59955,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:10:30.209+13","source_id":"Main","tsms":1383808230209,"percent":1,"tdiffms":59987,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:11:30.213+13","source_id":"Main","tsms":1383808290213,"percent":1,"tdiffms":60004,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:12:30.233+13","source_id":"Main","tsms":1383808350233,"percent":1,"tdiffms":60020,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:13:30.211+13","source_id":"Main","tsms":1383808410211,"percent":1,"tdiffms":59978,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:14:30.207+13","source_id":"Main","tsms":1383808470207,"percent":1,"tdiffms":59996,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:15:30.25+13","source_id":"Main","tsms":1383808530250,"percent":1,"tdiffms":60043,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:16:30.237+13","source_id":"Main","tsms":1383808590237,"percent":1,"tdiffms":59987,"jdata":{"i":{"watts":1},"a":{"wattHours":1080},"t":["consumption"]}},
{"ts":"2013-11-07 20:17:30.217+13","source_id":"Main","tsms":1383808650217,"percent":1,"tdiffms":59980,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:18:30.209+13","source_id":"Main","tsms":1383808710209,"percent":1,"tdiffms":59992,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:19:30.208+13","source_id":"Main","tsms":1383808770208,"percent":1,"tdiffms":59999,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:20:30.209+13","source_id":"Main","tsms":1383808830209,"percent":1,"tdiffms":60001,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:21:30.268+13","source_id":"Main","tsms":1383808890268,"percent":1,"tdiffms":60059,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:22:30.214+13","source_id":"Main","tsms":1383808950214,"percent":1,"tdiffms":59946,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:23:30.262+13","source_id":"Main","tsms":1383809010262,"percent":1,"tdiffms":60048,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:24:30.23+13","source_id":"Main","tsms":1383809070230,"percent":1,"tdiffms":59968,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:25:30.202+13","source_id":"Main","tsms":1383809130202,"percent":1,"tdiffms":59972,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:26:30.191+13","source_id":"Main","tsms":1383809190191,"percent":1,"tdiffms":59989,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:27:30.183+13","source_id":"Main","tsms":1383809250183,"percent":1,"tdiffms":59992,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:28:30.187+13","source_id":"Main","tsms":1383809310187,"percent":1,"tdiffms":60004,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:29:30.196+13","source_id":"Main","tsms":1383809370196,"percent":1,"tdiffms":60009,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:30:30.193+13","source_id":"Main","tsms":1383809430193,"percent":1,"tdiffms":59997,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:32:30.28+13","source_id":"Main","tsms":1383809550280,"percent":1,"tdiffms":120087,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:33:30.211+13","source_id":"Main","tsms":1383809610211,"percent":1,"tdiffms":59931,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:34:30.21+13","source_id":"Main","tsms":1383809670210,"percent":1,"tdiffms":59999,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:35:30.249+13","source_id":"Main","tsms":1383809730249,"percent":1,"tdiffms":60039,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:36:30.249+13","source_id":"Main","tsms":1383809790249,"percent":1,"tdiffms":60000,"jdata":{"i":{"watts":0},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:37:30.187+13","source_id":"Main","tsms":1383809850187,"percent":1,"tdiffms":59938,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:38:30.195+13","source_id":"Main","tsms":1383809910195,"percent":1,"tdiffms":60008,"jdata":{"i":{"watts":1},"a":{"wattHours":1081},"t":["consumption"]}},
{"ts":"2013-11-07 20:52:30.256+13","source_id":"Main","tsms":1383810750256,"percent":1,"tdiffms":840061,"jdata":{"i":{"watts":17},"a":{"wattHours":4},"t":["consumption"]}},
{"ts":"2013-11-07 20:53:30.218+13","source_id":"Main","tsms":1383810810218,"percent":1,"tdiffms":59962,"jdata":{"i":{"watts":16},"a":{"wattHours":5},"t":["consumption"]}},
{"ts":"2013-11-07 20:54:30.219+13","source_id":"Main","tsms":1383810870219,"percent":1,"tdiffms":60001,"jdata":{"i":{"watts":16},"a":{"wattHours":7},"t":["consumption"]}},
{"ts":"2013-11-07 20:55:30.276+13","source_id":"Main","tsms":1383810930276,"percent":1,"tdiffms":60057,"jdata":{"i":{"watts":14},"a":{"wattHours":8},"t":["consumption"]}},
{"ts":"2013-11-07 20:56:30.193+13","source_id":"Main","tsms":1383810990193,"percent":1,"tdiffms":59917,"jdata":{"i":{"watts":14},"a":{"wattHours":10},"t":["consumption"]}},
{"ts":"2013-11-07 20:57:30.237+13","source_id":"Main","tsms":1383811050237,"percent":1,"tdiffms":60044,"jdata":{"i":{"watts":14},"a":{"wattHours":11},"t":["consumption"]}},
{"ts":"2013-11-07 20:58:30.249+13","source_id":"Main","tsms":1383811110249,"percent":1,"tdiffms":60012,"jdata":{"i":{"watts":14},"a":{"wattHours":12},"t":["consumption"]}},
{"ts":"2013-11-07 20:59:30.216+13","source_id":"Main","tsms":1383811170216,"percent":1,"tdiffms":59967,"jdata":{"i":{"watts":13},"a":{"wattHours":13},"t":["consumption"]}},
{"ts":"2013-11-07 21:00:30.25+13","source_id":"Main","tsms":1383811230250,"percent":0.496119,"tdiffms":60034,"jdata":{"i":{"watts":13},"a":{"wattHours":15},"t":["consumption"]}}
	]
},
{
	description : 'End of day Wh results jump to 0, should result in 0.',
	expected : [ {"i":{"watts":0},"a":{"wattHours":0},"t":["power"]} ],
	data : [
{"ts":"2011-10-16 02:59:03.505+13","source_id":"Power","tsms":1318687143505,"percent":0,"tdiffms":60024,"jdata":{"i":{"watts":0},"a":{"wattHours":10210},"t":["power"]}},
{"ts":"2011-10-16 03:00:03.493+13","source_id":"Power","tsms":1318687203493,"percent":0.0582283,"tdiffms":59988,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:01:03.466+13","source_id":"Power","tsms":1318687263466,"percent":1,"tdiffms":59973,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:02:03.459+13","source_id":"Power","tsms":1318687323459,"percent":1,"tdiffms":59993,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:03:03.514+13","source_id":"Power","tsms":1318687383514,"percent":1,"tdiffms":60055,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:04:03.501+13","source_id":"Power","tsms":1318687443501,"percent":1,"tdiffms":59987,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:05:03.516+13","source_id":"Power","tsms":1318687503516,"percent":1,"tdiffms":60015,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:06:03.491+13","source_id":"Power","tsms":1318687563491,"percent":1,"tdiffms":59975,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:07:03.526+13","source_id":"Power","tsms":1318687623526,"percent":1,"tdiffms":60035,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:08:03.491+13","source_id":"Power","tsms":1318687683491,"percent":1,"tdiffms":59965,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:09:03.475+13","source_id":"Power","tsms":1318687743475,"percent":1,"tdiffms":59984,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:10:03.499+13","source_id":"Power","tsms":1318687803499,"percent":1,"tdiffms":60024,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:11:03.463+13","source_id":"Power","tsms":1318687863463,"percent":1,"tdiffms":59964,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:12:03.454+13","source_id":"Power","tsms":1318687923454,"percent":1,"tdiffms":59991,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:13:03.506+13","source_id":"Power","tsms":1318687983506,"percent":1,"tdiffms":60052,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:14:03.447+13","source_id":"Power","tsms":1318688043447,"percent":1,"tdiffms":59941,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:15:03.497+13","source_id":"Power","tsms":1318688103497,"percent":1,"tdiffms":60050,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:16:04.031+13","source_id":"Power","tsms":1318688164031,"percent":1,"tdiffms":60534,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:17:03.885+13","source_id":"Power","tsms":1318688223885,"percent":1,"tdiffms":59854,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:18:03.444+13","source_id":"Power","tsms":1318688283444,"percent":1,"tdiffms":59559,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:19:03.961+13","source_id":"Power","tsms":1318688343961,"percent":1,"tdiffms":60517,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:20:03.494+13","source_id":"Power","tsms":1318688403494,"percent":1,"tdiffms":59533,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:21:03.458+13","source_id":"Power","tsms":1318688463458,"percent":1,"tdiffms":59964,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:22:03.648+13","source_id":"Power","tsms":1318688523648,"percent":1,"tdiffms":60190,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:23:03.493+13","source_id":"Power","tsms":1318688583493,"percent":1,"tdiffms":59845,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:24:03.521+13","source_id":"Power","tsms":1318688643521,"percent":1,"tdiffms":60028,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:25:04.516+13","source_id":"Power","tsms":1318688704516,"percent":1,"tdiffms":60995,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:26:03.5+13","source_id":"Power","tsms":1318688763500,"percent":1,"tdiffms":58984,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:27:03.44+13","source_id":"Power","tsms":1318688823440,"percent":1,"tdiffms":59940,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:28:03.502+13","source_id":"Power","tsms":1318688883502,"percent":1,"tdiffms":60062,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:29:03.454+13","source_id":"Power","tsms":1318688943454,"percent":1,"tdiffms":59952,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:30:03.481+13","source_id":"Power","tsms":1318689003481,"percent":1,"tdiffms":60027,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:31:03.468+13","source_id":"Power","tsms":1318689063468,"percent":1,"tdiffms":59987,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:32:03.457+13","source_id":"Power","tsms":1318689123457,"percent":1,"tdiffms":59989,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:33:03.553+13","source_id":"Power","tsms":1318689183553,"percent":1,"tdiffms":60096,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:34:03.514+13","source_id":"Power","tsms":1318689243514,"percent":1,"tdiffms":59961,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:35:03.464+13","source_id":"Power","tsms":1318689303464,"percent":1,"tdiffms":59950,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:36:03.449+13","source_id":"Power","tsms":1318689363449,"percent":1,"tdiffms":59985,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:37:03.446+13","source_id":"Power","tsms":1318689423446,"percent":1,"tdiffms":59997,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:38:03.5+13","source_id":"Power","tsms":1318689483500,"percent":1,"tdiffms":60054,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:39:03.456+13","source_id":"Power","tsms":1318689543456,"percent":1,"tdiffms":59956,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:40:03.502+13","source_id":"Power","tsms":1318689603502,"percent":1,"tdiffms":60046,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:41:03.517+13","source_id":"Power","tsms":1318689663517,"percent":1,"tdiffms":60015,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:42:03.522+13","source_id":"Power","tsms":1318689723522,"percent":1,"tdiffms":60005,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:43:03.471+13","source_id":"Power","tsms":1318689783471,"percent":1,"tdiffms":59949,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:44:03.447+13","source_id":"Power","tsms":1318689843447,"percent":1,"tdiffms":59976,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:45:03.486+13","source_id":"Power","tsms":1318689903486,"percent":1,"tdiffms":60039,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:46:03.444+13","source_id":"Power","tsms":1318689963444,"percent":1,"tdiffms":59958,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:47:03.475+13","source_id":"Power","tsms":1318690023475,"percent":1,"tdiffms":60031,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:48:03.454+13","source_id":"Power","tsms":1318690083454,"percent":1,"tdiffms":59979,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:49:03.458+13","source_id":"Power","tsms":1318690143458,"percent":1,"tdiffms":60004,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:50:03.452+13","source_id":"Power","tsms":1318690203452,"percent":1,"tdiffms":59994,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:51:03.495+13","source_id":"Power","tsms":1318690263495,"percent":1,"tdiffms":60043,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:52:03.452+13","source_id":"Power","tsms":1318690323452,"percent":1,"tdiffms":59957,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:53:03.493+13","source_id":"Power","tsms":1318690383493,"percent":1,"tdiffms":60041,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:54:03.445+13","source_id":"Power","tsms":1318690443445,"percent":1,"tdiffms":59952,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:55:03.442+13","source_id":"Power","tsms":1318690503442,"percent":1,"tdiffms":59997,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:56:03.478+13","source_id":"Power","tsms":1318690563478,"percent":1,"tdiffms":60036,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:57:03.494+13","source_id":"Power","tsms":1318690623494,"percent":1,"tdiffms":60016,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:58:03.49+13","source_id":"Power","tsms":1318690683490,"percent":1,"tdiffms":59996,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 03:59:03.449+13","source_id":"Power","tsms":1318690743449,"percent":1,"tdiffms":59959,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}},
{"ts":"2011-10-16 04:00:03.497+13","source_id":"Power","tsms":1318690803497,"percent":0.941763,"tdiffms":60048,"jdata":{"i":{"watts":0},"a":{"wattHours":0},"t":["power"]}}
	]
},
{
	description : 'End of day Wh results jump to 7, should result in first sample being 7.',
	expected : [ {"i":{"watts":556.361},"a":{"wattHours":537.873},"t":["power"]} ],
	data : [
{"ts":"2014-05-05 23:59:02.756+12","source_id":"Main","tsms":1399291142756,"percent":0,"tdiffms":60047,"jdata":{"i":{"watts":447},"a":{"wattHours":22501},"t":["power"]}},
{"ts":"2014-05-06 00:00:02.9+12","source_id":"Main","tsms":1399291202900,"percent":0.0482176,"tdiffms":60144,"jdata":{"i":{"watts":439},"a":{"wattHours":7},"t":["power"]}},
{"ts":"2014-05-06 00:01:02.762+12","source_id":"Main","tsms":1399291262762,"percent":1,"tdiffms":59862,"jdata":{"i":{"watts":456},"a":{"wattHours":14},"t":["power"]}},
{"ts":"2014-05-06 00:02:02.725+12","source_id":"Main","tsms":1399291322725,"percent":1,"tdiffms":59963,"jdata":{"i":{"watts":518},"a":{"wattHours":22},"t":["power"]}},
{"ts":"2014-05-06 00:03:02.731+12","source_id":"Main","tsms":1399291382731,"percent":1,"tdiffms":60006,"jdata":{"i":{"watts":544},"a":{"wattHours":30},"t":["power"]}},
{"ts":"2014-05-06 00:04:02.659+12","source_id":"Main","tsms":1399291442659,"percent":1,"tdiffms":59928,"jdata":{"i":{"watts":617},"a":{"wattHours":40},"t":["power"]}},
{"ts":"2014-05-06 00:05:02.818+12","source_id":"Main","tsms":1399291502818,"percent":1,"tdiffms":60159,"jdata":{"i":{"watts":623},"a":{"wattHours":50},"t":["power"]}},
{"ts":"2014-05-06 00:06:02.763+12","source_id":"Main","tsms":1399291562763,"percent":1,"tdiffms":59945,"jdata":{"i":{"watts":750},"a":{"wattHours":61},"t":["power"]}},
{"ts":"2014-05-06 00:07:02.696+12","source_id":"Main","tsms":1399291622696,"percent":1,"tdiffms":59933,"jdata":{"i":{"watts":808},"a":{"wattHours":73},"t":["power"]}},
{"ts":"2014-05-06 00:08:02.699+12","source_id":"Main","tsms":1399291682699,"percent":1,"tdiffms":60003,"jdata":{"i":{"watts":864},"a":{"wattHours":87},"t":["power"]}},
{"ts":"2014-05-06 00:09:02.697+12","source_id":"Main","tsms":1399291742697,"percent":1,"tdiffms":59998,"jdata":{"i":{"watts":901},"a":{"wattHours":101},"t":["power"]}},
{"ts":"2014-05-06 00:10:02.763+12","source_id":"Main","tsms":1399291802763,"percent":1,"tdiffms":60066,"jdata":{"i":{"watts":1056},"a":{"wattHours":117},"t":["power"]}},
{"ts":"2014-05-06 00:11:02.656+12","source_id":"Main","tsms":1399291862656,"percent":1,"tdiffms":59893,"jdata":{"i":{"watts":1083},"a":{"wattHours":134},"t":["power"]}},
{"ts":"2014-05-06 00:12:02.699+12","source_id":"Main","tsms":1399291922699,"percent":1,"tdiffms":60043,"jdata":{"i":{"watts":1182},"a":{"wattHours":153},"t":["power"]}},
{"ts":"2014-05-06 00:13:02.66+12","source_id":"Main","tsms":1399291982660,"percent":1,"tdiffms":59961,"jdata":{"i":{"watts":1179},"a":{"wattHours":172},"t":["power"]}},
{"ts":"2014-05-06 00:14:02.79+12","source_id":"Main","tsms":1399292042790,"percent":1,"tdiffms":60130,"jdata":{"i":{"watts":1065},"a":{"wattHours":190},"t":["power"]}},
{"ts":"2014-05-06 00:15:02.754+12","source_id":"Main","tsms":1399292102754,"percent":1,"tdiffms":59964,"jdata":{"i":{"watts":990},"a":{"wattHours":207},"t":["power"]}},
{"ts":"2014-05-06 00:16:02.7+12","source_id":"Main","tsms":1399292162700,"percent":1,"tdiffms":59946,"jdata":{"i":{"watts":830},"a":{"wattHours":222},"t":["power"]}},
{"ts":"2014-05-06 00:17:02.697+12","source_id":"Main","tsms":1399292222697,"percent":1,"tdiffms":59997,"jdata":{"i":{"watts":764},"a":{"wattHours":235},"t":["power"]}},
{"ts":"2014-05-06 00:18:02.696+12","source_id":"Main","tsms":1399292282696,"percent":1,"tdiffms":59999,"jdata":{"i":{"watts":700},"a":{"wattHours":247},"t":["power"]}},
{"ts":"2014-05-06 00:19:02.697+12","source_id":"Main","tsms":1399292342697,"percent":1,"tdiffms":60001,"jdata":{"i":{"watts":635},"a":{"wattHours":257},"t":["power"]}},
{"ts":"2014-05-06 00:20:02.762+12","source_id":"Main","tsms":1399292402762,"percent":1,"tdiffms":60065,"jdata":{"i":{"watts":556},"a":{"wattHours":267},"t":["power"]}},
{"ts":"2014-05-06 00:21:02.696+12","source_id":"Main","tsms":1399292462696,"percent":1,"tdiffms":59934,"jdata":{"i":{"watts":539},"a":{"wattHours":275},"t":["power"]}},
{"ts":"2014-05-06 00:22:02.697+12","source_id":"Main","tsms":1399292522697,"percent":1,"tdiffms":60001,"jdata":{"i":{"watts":593},"a":{"wattHours":285},"t":["power"]}},
{"ts":"2014-05-06 00:23:02.67+12","source_id":"Main","tsms":1399292582670,"percent":1,"tdiffms":59973,"jdata":{"i":{"watts":546},"a":{"wattHours":294},"t":["power"]}},
{"ts":"2014-05-06 00:24:02.78+12","source_id":"Main","tsms":1399292642780,"percent":1,"tdiffms":60110,"jdata":{"i":{"watts":472},"a":{"wattHours":302},"t":["power"]}},
{"ts":"2014-05-06 00:25:02.838+12","source_id":"Main","tsms":1399292702838,"percent":1,"tdiffms":60058,"jdata":{"i":{"watts":518},"a":{"wattHours":310},"t":["power"]}},
{"ts":"2014-05-06 00:26:02.704+12","source_id":"Main","tsms":1399292762704,"percent":1,"tdiffms":59866,"jdata":{"i":{"watts":434},"a":{"wattHours":318},"t":["power"]}},
{"ts":"2014-05-06 00:27:02.667+12","source_id":"Main","tsms":1399292822667,"percent":1,"tdiffms":59963,"jdata":{"i":{"watts":327},"a":{"wattHours":324},"t":["power"]}},
{"ts":"2014-05-06 00:28:02.721+12","source_id":"Main","tsms":1399292882721,"percent":1,"tdiffms":60054,"jdata":{"i":{"watts":343},"a":{"wattHours":329},"t":["power"]}},
{"ts":"2014-05-06 00:29:02.666+12","source_id":"Main","tsms":1399292942666,"percent":1,"tdiffms":59945,"jdata":{"i":{"watts":340},"a":{"wattHours":335},"t":["power"]}},
{"ts":"2014-05-06 00:30:05.033+12","source_id":"Main","tsms":1399293005033,"percent":1,"tdiffms":62367,"jdata":{"i":{"watts":300},"a":{"wattHours":340},"t":["power"]}},
{"ts":"2014-05-06 00:31:02.743+12","source_id":"Main","tsms":1399293062743,"percent":1,"tdiffms":57710,"jdata":{"i":{"watts":258},"a":{"wattHours":344},"t":["power"]}},
{"ts":"2014-05-06 00:32:02.733+12","source_id":"Main","tsms":1399293122733,"percent":1,"tdiffms":59990,"jdata":{"i":{"watts":163},"a":{"wattHours":347},"t":["power"]}},
{"ts":"2014-05-06 00:33:02.764+12","source_id":"Main","tsms":1399293182764,"percent":1,"tdiffms":60031,"jdata":{"i":{"watts":173},"a":{"wattHours":350},"t":["power"]}},
{"ts":"2014-05-06 00:34:02.695+12","source_id":"Main","tsms":1399293242695,"percent":1,"tdiffms":59931,"jdata":{"i":{"watts":164},"a":{"wattHours":352},"t":["power"]}},
{"ts":"2014-05-06 00:35:02.755+12","source_id":"Main","tsms":1399293302755,"percent":1,"tdiffms":60060,"jdata":{"i":{"watts":135},"a":{"wattHours":355},"t":["power"]}},
{"ts":"2014-05-06 00:36:02.699+12","source_id":"Main","tsms":1399293362699,"percent":1,"tdiffms":59944,"jdata":{"i":{"watts":103},"a":{"wattHours":356},"t":["power"]}},
{"ts":"2014-05-06 00:37:02.698+12","source_id":"Main","tsms":1399293422698,"percent":1,"tdiffms":59999,"jdata":{"i":{"watts":162},"a":{"wattHours":358},"t":["power"]}},
{"ts":"2014-05-06 00:38:02.76+12","source_id":"Main","tsms":1399293482760,"percent":1,"tdiffms":60062,"jdata":{"i":{"watts":139},"a":{"wattHours":361},"t":["power"]}},
{"ts":"2014-05-06 00:39:02.79+12","source_id":"Main","tsms":1399293542790,"percent":1,"tdiffms":60030,"jdata":{"i":{"watts":213},"a":{"wattHours":363},"t":["power"]}},
{"ts":"2014-05-06 00:40:02.766+12","source_id":"Main","tsms":1399293602766,"percent":1,"tdiffms":59976,"jdata":{"i":{"watts":181},"a":{"wattHours":366},"t":["power"]}},
{"ts":"2014-05-06 00:41:02.7+12","source_id":"Main","tsms":1399293662700,"percent":1,"tdiffms":59934,"jdata":{"i":{"watts":176},"a":{"wattHours":369},"t":["power"]}},
{"ts":"2014-05-06 00:42:02.698+12","source_id":"Main","tsms":1399293722698,"percent":1,"tdiffms":59998,"jdata":{"i":{"watts":233},"a":{"wattHours":372},"t":["power"]}},
{"ts":"2014-05-06 00:43:02.668+12","source_id":"Main","tsms":1399293782668,"percent":1,"tdiffms":59970,"jdata":{"i":{"watts":312},"a":{"wattHours":376},"t":["power"]}},
{"ts":"2014-05-06 00:44:02.64+12","source_id":"Main","tsms":1399293842640,"percent":1,"tdiffms":59972,"jdata":{"i":{"watts":312},"a":{"wattHours":382},"t":["power"]}},
{"ts":"2014-05-06 00:45:02.746+12","source_id":"Main","tsms":1399293902746,"percent":1,"tdiffms":60106,"jdata":{"i":{"watts":331},"a":{"wattHours":386},"t":["power"]}},
{"ts":"2014-05-06 00:46:02.668+12","source_id":"Main","tsms":1399293962668,"percent":1,"tdiffms":59922,"jdata":{"i":{"watts":346},"a":{"wattHours":392},"t":["power"]}},
{"ts":"2014-05-06 00:47:02.698+12","source_id":"Main","tsms":1399294022698,"percent":1,"tdiffms":60030,"jdata":{"i":{"watts":532},"a":{"wattHours":399},"t":["power"]}},
{"ts":"2014-05-06 00:48:02.723+12","source_id":"Main","tsms":1399294082723,"percent":1,"tdiffms":60025,"jdata":{"i":{"watts":641},"a":{"wattHours":408},"t":["power"]}},
{"ts":"2014-05-06 00:49:02.699+12","source_id":"Main","tsms":1399294142699,"percent":1,"tdiffms":59976,"jdata":{"i":{"watts":680},"a":{"wattHours":419},"t":["power"]}},
{"ts":"2014-05-06 00:50:02.763+12","source_id":"Main","tsms":1399294202763,"percent":1,"tdiffms":60064,"jdata":{"i":{"watts":759},"a":{"wattHours":430},"t":["power"]}},
{"ts":"2014-05-06 00:51:02.689+12","source_id":"Main","tsms":1399294262689,"percent":1,"tdiffms":59926,"jdata":{"i":{"watts":771},"a":{"wattHours":442},"t":["power"]}},
{"ts":"2014-05-06 00:52:02.634+12","source_id":"Main","tsms":1399294322634,"percent":1,"tdiffms":59945,"jdata":{"i":{"watts":679},"a":{"wattHours":454},"t":["power"]}},
{"ts":"2014-05-06 00:53:02.726+12","source_id":"Main","tsms":1399294382726,"percent":1,"tdiffms":60092,"jdata":{"i":{"watts":922},"a":{"wattHours":467},"t":["power"]}},
{"ts":"2014-05-06 00:54:02.666+12","source_id":"Main","tsms":1399294442666,"percent":1,"tdiffms":59940,"jdata":{"i":{"watts":873},"a":{"wattHours":482},"t":["power"]}},
{"ts":"2014-05-06 00:55:02.758+12","source_id":"Main","tsms":1399294502758,"percent":1,"tdiffms":60092,"jdata":{"i":{"watts":736},"a":{"wattHours":496},"t":["power"]}},
{"ts":"2014-05-06 00:56:02.756+12","source_id":"Main","tsms":1399294562756,"percent":1,"tdiffms":59998,"jdata":{"i":{"watts":639},"a":{"wattHours":506},"t":["power"]}},
{"ts":"2014-05-06 00:57:02.663+12","source_id":"Main","tsms":1399294622663,"percent":1,"tdiffms":59907,"jdata":{"i":{"watts":680},"a":{"wattHours":517},"t":["power"]}},
{"ts":"2014-05-06 00:58:02.667+12","source_id":"Main","tsms":1399294682667,"percent":1,"tdiffms":60004,"jdata":{"i":{"watts":534},"a":{"wattHours":526},"t":["power"]}},
{"ts":"2014-05-06 00:59:02.656+12","source_id":"Main","tsms":1399294742656,"percent":1,"tdiffms":59989,"jdata":{"i":{"watts":601},"a":{"wattHours":535},"t":["power"]}},
{"ts":"2014-05-06 01:00:02.795+12","source_id":"Main","tsms":1399294802795,"percent":0.953524,"tdiffms":60139,"jdata":{"i":{"watts":518},"a":{"wattHours":545},"t":["power"]}}
	]
}
];
